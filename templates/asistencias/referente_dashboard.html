{% extends 'base.html' %}

{% block title %}Panel Referente Municipal{% endblock %}

{% block content %}
<h1>Panel de Referente Municipal</h1>

<p>Bienvenido, {{ request.user.first_name }}. Aquí podés ver las diplomaturas asignadas.</p>

<div class="card-grid">
    {% for d in diplomaturas %}
    <div class="card">
        <h3>{{ d.nombre }}</h3>
        <p>{{ d.descripcion|truncatechars:100 }}</p>
        <div class="actions" style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
            <a href="{% url 'asistencias:calendario_referente' d.id %}" class="btn primary">Ver Cronograma</a>
            <a href="{% url 'asistencias:exportar_asistencia_diplomatura' d.id %}" class="btn secondary">Exportar
                Asistencias (Todas)</a>
        </div>
    </div>
    {% empty %}
    <p>No estás registrado como referente en ninguna diplomatura.</p>
    <a href="{% url 'asistencias:insc_diplomatura_codigo' %}" class="btn primary">Inscribirse en Diplomatura</a>
    {% endfor %}
</div>

<style>
    .card-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
    }

    .card {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
</style>
{% endblock %}